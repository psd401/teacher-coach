name = "teacher-coach-api"
main = "src/index.ts"
compatibility_date = "2024-01-17"

# Environment variables (set via wrangler secret)
# GEMINI_API_KEY - Google Gemini API key
# GOOGLE_CLIENT_ID - Google OAuth client ID
# JWT_SECRET - Secret for signing session tokens

# KV Namespace for rate limiting
# Note: KV namespace IDs are not secrets (require Cloudflare account access to use)
# but keeping them out of public repos is good hygiene.
# For production: set via wrangler CLI or Cloudflare dashboard
# Run: wrangler kv:namespace create "RATE_LIMIT" to get your namespace ID
[[kv_namespaces]]
binding = "RATE_LIMIT"
id = "" # Set via: wrangler kv:namespace create "RATE_LIMIT"

[vars]
ALLOWED_DOMAIN = "psd401.net"
RATE_LIMIT_PER_HOUR = "20"
GEMINI_TEXT_MODEL = "gemini-3-pro-preview"
GEMINI_VIDEO_MODEL = "gemini-3-flash-preview"
VIDEO_RATE_LIMIT_PER_HOUR = "5"
